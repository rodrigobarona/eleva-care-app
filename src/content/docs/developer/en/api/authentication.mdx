---
title: Authentication
description: Learn how to authenticate with the Eleva Care API using API keys and OAuth 2.0.
---

# Authentication

Secure your API requests with proper authentication. Eleva Care supports two authentication methods: API keys for server-to-server communication and OAuth 2.0 for user-authorized access.

## API Key Authentication

### Obtaining Your API Key

<Steps>
  <Step>
    ### Access Dashboard

    Log in to your Partner Dashboard.

  </Step>
  <Step>
    ### Navigate to API Settings

    Go to **Settings** → **API Access**.

  </Step>
  <Step>
    ### Generate Key

    Click **Generate API Key** and copy it securely.

  </Step>
</Steps>

<Callout type="warning">
  **Security**: Your API key grants full access to your organization's data. Never expose it in
  client-side code or public repositories.
</Callout>

### Using API Keys

Include your API key in the `Authorization` header:

<Tabs items={['cURL', 'TypeScript', 'Python']}>
  <Tab value="cURL">
```bash
curl -X GET "https://api.eleva.care/v1/experts" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json"
```

  </Tab>
  <Tab value="TypeScript">
```typescript
const response = await fetch('https://api.eleva.care/v1/experts', {
  headers: {
        Authorization: `Bearer ${process.env.ELEVA_API_KEY}`,
    'Content-Type': 'application/json',
  },
});

const data = await response.json();
```

  </Tab>
  <Tab value="Python">
```python
import requests

headers = {
    'Authorization': f'Bearer {API_KEY}',
    'Content-Type': 'application/json',
}

response = requests.get(
    'https://api.eleva.care/v1/experts',
    headers=headers
)
```

  </Tab>
</Tabs>

## API Key Scopes

API keys can be configured with specific scopes to limit access:

| Scope | Description |
|-------|-------------|
| `read:experts` | View expert profiles and availability |
| `read:bookings` | View booking information |
| `write:bookings` | Create and modify bookings |
| `read:patients` | View patient information |
| `webhooks` | Manage webhook subscriptions |
| `admin` | Full administrative access |

### Creating Scoped Keys

```typescript
// Request specific scopes when creating a key
const key = await elevaCare.apiKeys.create({
  name: 'Booking Integration',
  scopes: ['read:experts', 'write:bookings'],
  expiresAt: '2025-12-31',
});
```

## OAuth 2.0 (User Authorization)

For applications that act on behalf of users, use OAuth 2.0.

### Authorization Flow

<Steps>
  <Step>
    ### User Initiates

    User clicks "Connect with Eleva Care" in your app.

  </Step>
  <Step>
    ### Authorization Page

    User is redirected to Eleva Care authorization page.

  </Step>
  <Step>
    ### User Grants Permission

    User reviews and grants requested permissions.

  </Step>
  <Step>
    ### Callback

    User is redirected back with authorization code.

  </Step>
  <Step>
    ### Token Exchange

    Your app exchanges code for access token.

  </Step>
  <Step>
    ### API Access

    Use access token for API requests.

  </Step>
</Steps>

### Configuration

```typescript
// OAuth configuration
const oauthConfig = {
  clientId: 'YOUR_CLIENT_ID',
  clientSecret: 'YOUR_CLIENT_SECRET',
  redirectUri: 'https://yourapp.com/callback',
  scopes: ['read:profile', 'write:bookings'],
};
```

### Authorization Request

<Tabs items={['Build URL', 'Token Exchange', 'Refresh Token']}>
  <Tab value="Build URL">
```typescript
const authUrl = new URL('https://auth.eleva.care/oauth/authorize');
authUrl.searchParams.set('client_id', CLIENT_ID);
authUrl.searchParams.set('redirect_uri', REDIRECT_URI);
authUrl.searchParams.set('response_type', 'code');
authUrl.searchParams.set('scope', 'read:profile write:bookings');
authUrl.searchParams.set('state', generateRandomState());

// Redirect user
window.location.href = authUrl.toString();
```

  </Tab>
  <Tab value="Token Exchange">
```typescript
const tokenResponse = await fetch('https://auth.eleva.care/oauth/token', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/x-www-form-urlencoded',
  },
  body: new URLSearchParams({
    grant_type: 'authorization_code',
    code: authorizationCode,
    client_id: CLIENT_ID,
    client_secret: CLIENT_SECRET,
    redirect_uri: REDIRECT_URI,
  }),
});

const { access_token, refresh_token, expires_in } = await tokenResponse.json();
```

  </Tab>
  <Tab value="Refresh Token">
```typescript
const refreshResponse = await fetch('https://auth.eleva.care/oauth/token', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/x-www-form-urlencoded',
  },
  body: new URLSearchParams({
    grant_type: 'refresh_token',
    refresh_token: refresh_token,
    client_id: CLIENT_ID,
    client_secret: CLIENT_SECRET,
  }),
});
    ```

  </Tab>
</Tabs>

### Token Response

```json
{
  "access_token": "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...",
  "refresh_token": "rt_xxxxxxxxxxxxx",
  "token_type": "Bearer",
  "expires_in": 3600,
  "scope": "read:profile write:bookings"
}
```

## Best Practices

<Accordions>
  <Accordion title="Key Rotation">
Rotate your API keys regularly:

1. Generate a new key in the dashboard
2. Update your application with the new key
3. Verify the new key works
4. Revoke the old key

  </Accordion>
  <Accordion title="Environment Variables">
Never hardcode API keys:

```typescript
// ✅ Good
const apiKey = process.env.ELEVA_API_KEY;

// ❌ Bad
const apiKey = 'sk_live_xxxxxxxxxxxxx';
```

  </Accordion>
  <Accordion title="Key Storage">
| Environment | Recommendation |
|-------------|----------------|
| Development | Local `.env` file (gitignored) |
| Staging | Environment variables |
| Production | Secrets manager (AWS, Vault, etc.) |

  </Accordion>
  <Accordion title="Error Handling">
```typescript
try {
  const response = await fetch('https://api.eleva.care/v1/experts', {
        headers: { Authorization: `Bearer ${apiKey}` },
  });

  if (response.status === 401) {
    // Invalid or expired token
    await refreshToken();
    return retry();
  }

  if (response.status === 403) {
    // Insufficient permissions
    throw new Error('Insufficient API permissions');
  }

  return response.json();
} catch (error) {
  console.error('API authentication error:', error);
}
```

  </Accordion>
</Accordions>

## Security Considerations

<Tabs items={['IP Allowlisting', 'Webhook Verification', 'Audit Logging']}>
  <Tab value="IP Allowlisting">
Restrict API access to specific IPs:

1. Go to **Settings** → **API Access** → **Security**
2. Add your server IP addresses
3. Enable IP allowlisting

  </Tab>
  <Tab value="Webhook Verification">
Always verify webhook signatures:

```typescript
import crypto from 'crypto';

function verifyWebhookSignature(
  payload: string,
  signature: string,
      secret: string,
): boolean {
      const expected = crypto.createHmac('sha256', secret).update(payload).digest('hex');
  
      return crypto.timingSafeEqual(Buffer.from(signature), Buffer.from(`sha256=${expected}`));
}
```

  </Tab>
  <Tab value="Audit Logging">
All API requests are logged. View your logs at:

**Partner Dashboard** → **Settings** → **API Logs**

  </Tab>
</Tabs>

---

<Cards>
  <Card title="API Endpoints" href="/docs/developer/api/endpoints">
    Explore available API endpoints
  </Card>
  <Card title="Error Handling" href="/docs/developer/api/errors">
    Learn about error responses
  </Card>
</Cards>
