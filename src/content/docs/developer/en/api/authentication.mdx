---
title: Authentication
description: Learn how to authenticate with the Eleva Care API using API keys and OAuth 2.0.
---

# Authentication

Secure your API requests with proper authentication. Eleva Care supports two authentication methods: API keys for server-to-server communication and OAuth 2.0 for user-authorized access.

## API Key Authentication

### Obtaining Your API Key

1. Log in to your Partner Dashboard
2. Navigate to **Settings** → **API Access**
3. Click **Generate API Key**
4. Copy and securely store your key

<Callout type="warning">
  **Security**: Your API key grants full access to your organization's data. Never expose it in client-side code or public repositories.
</Callout>

### Using API Keys

Include your API key in the `Authorization` header:

```bash
curl -X GET "https://api.eleva.care/v1/experts" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json"
```

### TypeScript Example

```typescript
const response = await fetch('https://api.eleva.care/v1/experts', {
  headers: {
    'Authorization': `Bearer ${process.env.ELEVA_API_KEY}`,
    'Content-Type': 'application/json',
  },
});

const data = await response.json();
```

### Python Example

```python
import requests

headers = {
    'Authorization': f'Bearer {API_KEY}',
    'Content-Type': 'application/json',
}

response = requests.get(
    'https://api.eleva.care/v1/experts',
    headers=headers
)
```

## API Key Scopes

API keys can be configured with specific scopes to limit access:

| Scope | Description |
|-------|-------------|
| `read:experts` | View expert profiles and availability |
| `read:bookings` | View booking information |
| `write:bookings` | Create and modify bookings |
| `read:patients` | View patient information |
| `webhooks` | Manage webhook subscriptions |
| `admin` | Full administrative access |

### Creating Scoped Keys

```typescript
// Request specific scopes when creating a key
const key = await elevaCare.apiKeys.create({
  name: 'Booking Integration',
  scopes: ['read:experts', 'write:bookings'],
  expiresAt: '2025-12-31',
});
```

## OAuth 2.0 (User Authorization)

For applications that act on behalf of users, use OAuth 2.0.

### Authorization Flow

```
1. User clicks "Connect with Eleva Care"
2. User is redirected to Eleva Care authorization page
3. User grants permission
4. User is redirected back with authorization code
5. Your app exchanges code for access token
6. Use access token for API requests
```

### Configuration

Register your application:

```typescript
// OAuth configuration
const oauthConfig = {
  clientId: 'YOUR_CLIENT_ID',
  clientSecret: 'YOUR_CLIENT_SECRET',
  redirectUri: 'https://yourapp.com/callback',
  scopes: ['read:profile', 'write:bookings'],
};
```

### Authorization Request

Redirect users to authorize your app:

```typescript
const authUrl = new URL('https://auth.eleva.care/oauth/authorize');
authUrl.searchParams.set('client_id', CLIENT_ID);
authUrl.searchParams.set('redirect_uri', REDIRECT_URI);
authUrl.searchParams.set('response_type', 'code');
authUrl.searchParams.set('scope', 'read:profile write:bookings');
authUrl.searchParams.set('state', generateRandomState());

// Redirect user
window.location.href = authUrl.toString();
```

### Token Exchange

Exchange the authorization code for tokens:

```typescript
const tokenResponse = await fetch('https://auth.eleva.care/oauth/token', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/x-www-form-urlencoded',
  },
  body: new URLSearchParams({
    grant_type: 'authorization_code',
    code: authorizationCode,
    client_id: CLIENT_ID,
    client_secret: CLIENT_SECRET,
    redirect_uri: REDIRECT_URI,
  }),
});

const { access_token, refresh_token, expires_in } = await tokenResponse.json();
```

### Token Response

```json
{
  "access_token": "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...",
  "refresh_token": "rt_xxxxxxxxxxxxx",
  "token_type": "Bearer",
  "expires_in": 3600,
  "scope": "read:profile write:bookings"
}
```

### Using Access Tokens

```typescript
const response = await fetch('https://api.eleva.care/v1/me', {
  headers: {
    'Authorization': `Bearer ${access_token}`,
  },
});
```

### Refreshing Tokens

```typescript
const refreshResponse = await fetch('https://auth.eleva.care/oauth/token', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/x-www-form-urlencoded',
  },
  body: new URLSearchParams({
    grant_type: 'refresh_token',
    refresh_token: refresh_token,
    client_id: CLIENT_ID,
    client_secret: CLIENT_SECRET,
  }),
});
```

## Best Practices

### Key Rotation

Rotate your API keys regularly:

1. Generate a new key in the dashboard
2. Update your application with the new key
3. Verify the new key works
4. Revoke the old key

### Environment Variables

Never hardcode API keys:

```typescript
// ✅ Good
const apiKey = process.env.ELEVA_API_KEY;

// ❌ Bad
const apiKey = 'sk_live_xxxxxxxxxxxxx';
```

### Key Storage

| Environment | Recommendation |
|-------------|----------------|
| Development | Local `.env` file (gitignored) |
| Staging | Environment variables |
| Production | Secrets manager (AWS, Vault, etc.) |

### Error Handling

Handle authentication errors gracefully:

```typescript
try {
  const response = await fetch('https://api.eleva.care/v1/experts', {
    headers: { 'Authorization': `Bearer ${apiKey}` },
  });

  if (response.status === 401) {
    // Invalid or expired token
    await refreshToken();
    return retry();
  }

  if (response.status === 403) {
    // Insufficient permissions
    throw new Error('Insufficient API permissions');
  }

  return response.json();
} catch (error) {
  console.error('API authentication error:', error);
}
```

## Security Considerations

### IP Allowlisting

Restrict API access to specific IPs:

1. Go to **Settings** → **API Access** → **Security**
2. Add your server IP addresses
3. Enable IP allowlisting

### Webhook Signature Verification

Always verify webhook signatures:

```typescript
import crypto from 'crypto';

function verifyWebhookSignature(
  payload: string,
  signature: string,
  secret: string
): boolean {
  const expected = crypto
    .createHmac('sha256', secret)
    .update(payload)
    .digest('hex');
  
  return crypto.timingSafeEqual(
    Buffer.from(signature),
    Buffer.from(`sha256=${expected}`)
  );
}
```

### Audit Logging

All API requests are logged. View your logs at:

**Partner Dashboard** → **Settings** → **API Logs**

## Next Steps

<Cards>
  <Card title="API Endpoints" href="/docs/developer/api/endpoints">
    Explore available API endpoints
  </Card>
  <Card title="Error Handling" href="/docs/developer/api/errors">
    Learn about error responses
  </Card>
</Cards>

