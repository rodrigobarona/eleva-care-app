echo "ðŸ” Running pre-commit checks..."

# Run lint-staged for staged files
pnpm lint-staged

# Run tests for modified files
echo "ðŸ§ª Running tests for modified files..."
if git diff --cached --name-only | grep -E '\.(ts|tsx)$' > /dev/null; then
  FILES=$(git diff --cached --name-only | grep -E '\.(ts|tsx)$')
  if [ ! -z "$FILES" ]; then
    pnpm test --findRelatedTests $FILES --passWithNoTests
  fi
fi

echo "âœ… Pre-commit checks completed!"